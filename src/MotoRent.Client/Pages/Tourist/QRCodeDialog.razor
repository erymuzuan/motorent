@* QR Code display dialog for tourists to show at pickup/return *@
@inherits MotoRentComponentBase

<div class="modal-body">
    <div class="d-flex flex-column align-items-center gap-3">
        @* QR Code Image *@
        <div class="bg-white p-4 rounded-3">
            <img src="@QRCodeUrl" alt="QR Code" width="250" height="250" style="object-fit: contain;" />
        </div>

        @* Status Badge *@
        <span class="badge @GetStatusBadgeClass() fs-6">@Status</span>

        @* Instructions *@
        <p class="text-secondary text-center mb-0">
            Show this QR code to our staff when you pick up or return your motorbike.
        </p>

        <div class="alert alert-info w-100 mb-0">
            <div class="d-flex align-items-center">
                <i class="ti ti-info-circle me-2"></i>
                <small>Take a screenshot for offline access</small>
            </div>
        </div>
    </div>
</div>

<div class="modal-footer">
    <button type="button" class="btn btn-ghost-secondary" @onclick="Close">Close</button>
</div>

@code {
    [CascadingParameter] private ModalInstance? ModalInstance { get; set; }

    [Parameter] public string QRCodeUrl { get; set; } = "";
    [Parameter] public int RentalId { get; set; }
    [Parameter] public string Status { get; set; } = "";

    private string GetStatusBadgeClass() => this.Status switch
    {
        "Reserved" => "bg-info",
        "Active" => "bg-success",
        "Completed" => "bg-secondary",
        "Cancelled" => "bg-danger",
        _ => "bg-secondary"
    };

    private void Close() => this.ModalInstance?.Close();
}
