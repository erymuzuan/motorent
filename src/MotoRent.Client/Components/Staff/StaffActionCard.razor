@* Large touch-friendly action card for staff kiosk *@

<div class="@($"card staff-action-card {Class}")"
     style="@ComputedStyle"
     @onclick="OnClick">
    <div class="card-body d-flex flex-column align-items-center justify-content-center text-center h-100" style="gap: 0.5rem;">
        <i class="@($"ti {Icon}")" style="font-size: 3rem; color: @IconColorValue;"></i>
        <h6 class="mb-0 fw-semibold">@Title</h6>
        @if (!string.IsNullOrEmpty(Subtitle))
        {
            <small class="text-secondary">@Subtitle</small>
        }
        @if (BadgeCount > 0)
        {
            <span class="badge @BadgeColorClass mt-1">@BadgeCount</span>
        }
    </div>
</div>

@code {
    [Parameter] public string Icon { get; set; } = "ti-hand-click";
    [Parameter] public string Title { get; set; } = "Action";
    [Parameter] public string? Subtitle { get; set; }
    [Parameter] public string IconColor { get; set; } = "primary";
    [Parameter] public int BadgeCount { get; set; }
    [Parameter] public string BadgeColor { get; set; } = "danger";
    [Parameter] public string? Class { get; set; }
    [Parameter] public string? BackgroundColor { get; set; }
    [Parameter] public EventCallback OnClick { get; set; }

    private string IconColorValue => this.IconColor switch
    {
        "primary" => "var(--tblr-primary)",
        "secondary" => "var(--tblr-secondary)",
        "success" => "var(--tblr-success)",
        "danger" => "var(--tblr-danger)",
        "warning" => "var(--tblr-warning)",
        "info" => "var(--tblr-info)",
        _ => $"var(--tblr-{this.IconColor})"
    };

    private string BadgeColorClass => $"bg-{this.BadgeColor}";

    private string ComputedStyle => string.IsNullOrEmpty(this.BackgroundColor)
        ? "min-height: 160px; cursor: pointer;"
        : $"min-height: 160px; cursor: pointer; background: {this.BackgroundColor};";
}
