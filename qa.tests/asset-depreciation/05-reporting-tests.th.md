# การทดสอบรายงาน

## หมวดหมู่การทดสอบ: รายงานและแดชบอร์ด

### ข้อกำหนดเบื้องต้น
- ผู้ใช้เข้าสู่ระบบในฐานะ OrgAdmin หรือ ShopManager
- มีสินทรัพย์หลายรายการพร้อมประวัติค่าเสื่อมราคา ค่าใช้จ่าย และรายได้จากการเช่า
- มีสิทธิ์เข้าถึงเมนูการเงิน

---

## กรณีทดสอบ 5.1: แดชบอร์ดสินทรัพย์ - การ์ด KPI

**วัตถุประสงค์:** ตรวจสอบว่าการ์ดสรุป KPI ทั้งหมดแสดงค่าที่ถูกต้อง

**ขั้นตอน:**
1. ไปที่ **การเงิน > แดชบอร์ดสินทรัพย์**
2. ตรวจสอบการ์ด KPI แต่ละใบ:
   - ลงทุนรวม
   - มูลค่าตามบัญชี
   - ค่าเสื่อมราคาสะสม
   - กำไร/ขาดทุนสุทธิ
   - ROI ของกองยาน

**ผลลัพธ์ที่คาดหวัง:**
- [ ] ลงทุนรวม = ผลรวมของต้นทุนการได้มาทั้งหมด
- [ ] มูลค่าตามบัญชี = ผลรวมของมูลค่าตามบัญชีปัจจุบันทั้งหมด
- [ ] ค่าเสื่อมราคาสะสม = ผลรวมของค่าเสื่อมราคาทั้งหมด
- [ ] กำไร/ขาดทุนสุทธิ = รายได้รวม - ค่าใช้จ่ายรวม - ค่าเสื่อมราคารวม
- [ ] ROI กองยาน % = (กำไรสุทธิ / ลงทุนรวม) × 100
- [ ] เปอร์เซ็นต์และข้อความย่อยถูกต้อง

---

## กรณีทดสอบ 5.2: แดชบอร์ดสินทรัพย์ - กราฟแนวโน้มค่าเสื่อมราคา

**วัตถุประสงค์:** ตรวจสอบว่ากราฟแนวโน้มค่าเสื่อมราคาแสดงถูกต้อง

**ขั้นตอน:**
1. ไปที่ **การเงิน > แดชบอร์ดสินทรัพย์**
2. ค้นหากราฟ "แนวโน้มค่าเสื่อมราคา" (กราฟซ้าย)
3. ตรวจสอบข้อมูล 12 เดือน

**ผลลัพธ์ที่คาดหวัง:**
- [ ] กราฟแสดงข้อมูล 12 เดือน
- [ ] แสดงชุดข้อมูลสองชุด (มูลค่าตามบัญชีและค่าเสื่อมราคารายเดือน)
- [ ] คำอธิบายระบุแต่ละชุดข้อมูลถูกต้อง
- [ ] ค่าลดลงตลอดเวลา (มูลค่าตามบัญชี)
- [ ] ลิงก์ไปยังรายงานฉบับเต็มทำงาน

---

## กรณีทดสอบ 5.3: แดชบอร์ดสินทรัพย์ - กราฟรายละเอียดค่าใช้จ่าย

**วัตถุประสงค์:** ตรวจสอบกราฟโดนัทรายละเอียดค่าใช้จ่าย

**ขั้นตอน:**
1. ไปที่ **การเงิน > แดชบอร์ดสินทรัพย์**
2. ค้นหากราฟโดนัท "รายละเอียดค่าใช้จ่าย" (กราฟขวา)
3. ตรวจสอบรายละเอียดหมวดหมู่

**ผลลัพธ์ที่คาดหวัง:**
- [ ] กราฟโดนัทแสดงหมวดหมู่ค่าใช้จ่ายทั้งหมด
- [ ] สีแตกต่างและอ่านได้
- [ ] คำอธิบายแสดง:
  - ชื่อหมวดหมู่
  - จำนวน
  - เปอร์เซ็นต์
- [ ] เปอร์เซ็นต์รวมเป็น 100%
- [ ] ยอดรวมตรงกับผลรวมของค่าใช้จ่ายทั้งหมด

---

## กรณีทดสอบ 5.4: แดชบอร์ดสินทรัพย์ - ผู้มีผลงานดีที่สุด

**วัตถุประสงค์:** ตรวจสอบว่ารายการผู้มีผลงานดีที่สุดแสดงสินทรัพย์ที่มี ROI สูงสุด

**ขั้นตอน:**
1. ไปที่ **การเงิน > แดชบอร์ดสินทรัพย์**
2. ค้นหาส่วน "ผู้มีผลงานดีที่สุด"
3. ตรวจสอบการจัดอันดับ

**ผลลัพธ์ที่คาดหวัง:**
- [ ] แสดงสินทรัพย์สูงสุด 5 รายการ
- [ ] จัดอันดับตาม ROI (สูงสุดก่อน)
- [ ] ตัวบ่งชี้ทอง/เงิน/ทองแดงสำหรับ 3 อันดับแรก
- [ ] แต่ละรายการแสดง:
  - ชื่อยานพาหนะและทะเบียน
  - เปอร์เซ็นต์ ROI พร้อมลูกศรแนวโน้ม
  - จำนวนรายได้
- [ ] ลิงก์ไปยังรายงานผลกำไรทำงาน

---

## กรณีทดสอบ 5.5: แดชบอร์ดสินทรัพย์ - การแจ้งเตือนต้องการความสนใจ

**วัตถุประสงค์:** ตรวจสอบว่าการแจ้งเตือนความสนใจถูกต้องและดำเนินการได้

**ขั้นตอน:**
1. ไปที่ **การเงิน > แดชบอร์ดสินทรัพย์**
2. ค้นหาส่วน "ต้องการความสนใจ"
3. ตรวจสอบประเภทการแจ้งเตือนแต่ละประเภท

**ผลลัพธ์ที่คาดหวัง:**
- [ ] ครบกำหนดค่าเสื่อมราคา: จำนวนสินทรัพย์ที่ต้องบันทึกค่าเสื่อมราคารายเดือน
- [ ] งวดค้างชำระ: จำนวนงวดสินเชื่อที่เกินกำหนด
- [ ] งวดที่จะครบกำหนด: จำนวนงวดที่ครบกำหนดภายใน 7 วัน
- [ ] ผลงานต่ำ: จำนวนสินทรัพย์ที่มี ROI ติดลบ
- [ ] แต่ละการแจ้งเตือนลิงก์ไปยังหน้าที่เกี่ยวข้อง
- [ ] ข้อความ "ทุกอย่างเรียบร้อย" ถ้าไม่มีการแจ้งเตือน

---

## กรณีทดสอบ 5.6: แดชบอร์ดสินทรัพย์ - การดำเนินการด่วน

**วัตถุประสงค์:** ตรวจสอบว่าปุ่มการดำเนินการด่วนทำงานถูกต้อง

**ขั้นตอน:**
1. ไปที่ **การเงิน > แดชบอร์ดสินทรัพย์**
2. ค้นหาส่วน "การดำเนินการด่วน"
3. คลิกแต่ละปุ่มการดำเนินการ

**ผลลัพธ์ที่คาดหวัง:**
- [ ] รันค่าเสื่อมราคารายเดือน → เปิดหน้าค่าเสื่อมราคา
- [ ] บันทึกค่าใช้จ่าย → เปิดการสร้างค่าใช้จ่าย
- [ ] ดูสินทรัพย์ทั้งหมด → แสดงรายการสินทรัพย์
- [ ] จัดการสินเชื่อ → เปิดหน้าสินเชื่อ

---

## กรณีทดสอบ 5.7: แดชบอร์ดสินทรัพย์ - กิจกรรมล่าสุด

**วัตถุประสงค์:** ตรวจสอบว่าไทม์ไลน์กิจกรรมล่าสุดแสดงถูกต้อง

**ขั้นตอน:**
1. ไปที่ **การเงิน > แดชบอร์ดสินทรัพย์**
2. ค้นหาส่วน "กิจกรรมล่าสุด"
3. ตรวจสอบรายการไทม์ไลน์

**ผลลัพธ์ที่คาดหวัง:**
- [ ] แสดงกิจกรรมล่าสุด 5-10 รายการ
- [ ] ประเภทกิจกรรมรวม:
  - รายการค่าเสื่อมราคา
  - ค่าใช้จ่ายที่บันทึก
  - การชำระสินเชื่อ
  - รายได้จากการเช่า
- [ ] แต่ละรายการแสดง:
  - ไอคอนระบุประเภท
  - หัวข้อและรายละเอียด
  - เวลา (แสดงเป็นคำ เช่น "2 ชั่วโมงที่แล้ว")
  - จำนวน (บวกสำหรับรายได้ ลบสำหรับค่าใช้จ่าย)

---

## กรณีทดสอบ 5.8: แดชบอร์ดสินทรัพย์ - รายการสินทรัพย์พร้อมสถานะ

**วัตถุประสงค์:** ตรวจสอบว่ารายการสินทรัพย์แสดงพร้อมการกรองสถานะ

**ขั้นตอน:**
1. ไปที่ **การเงิน > แดชบอร์ดสินทรัพย์**
2. เลื่อนไปที่ส่วนรายการสินทรัพย์
3. ตรวจสอบเนื้อหารายการ

**ผลลัพธ์ที่คาดหวัง:**
- [ ] สินทรัพย์ทั้งหมดแสดง (หรือแบ่งหน้า)
- [ ] แต่ละแถวแสดง:
  - ชื่อยานพาหนะและทะเบียน
  - ป้ายสถานะ (มีสีตามสถานะ)
  - ต้นทุนการได้มา
  - มูลค่าตามบัญชีปัจจุบัน
  - ค่าเสื่อมราคาสะสม
  - เปอร์เซ็นต์ ROI
- [ ] ปุ่มดูรายละเอียดทำงาน
- [ ] ปุ่มแก้ไขทำงาน

---

## กรณีทดสอบ 5.9: รายงานผลกำไร

**วัตถุประสงค์:** ตรวจสอบว่ารายงานผลกำไรแสดงข้อมูล ROI ที่ถูกต้อง

**ขั้นตอน:**
1. ไปที่ **การเงิน > รายงาน > ผลกำไร**
2. ตรวจสอบรายงาน

**ผลลัพธ์ที่คาดหวัง:**
- [ ] สินทรัพย์ทั้งหมดแสดงพร้อม:
  - การระบุยานพาหนะ
  - รายได้รวม
  - ค่าใช้จ่ายรวม (รายละเอียดตามหมวดหมู่)
  - ค่าเสื่อมราคารวม
  - กำไร/ขาดทุนสุทธิ
  - ROI %
- [ ] การเรียงลำดับตาม ROI ทำงาน
- [ ] ตัวเลือกตัวกรองทำงาน
- [ ] ยอดรวมสรุปด้านล่าง

---

## กรณีทดสอบ 5.10: การตรวจสอบการคำนวณ ROI

**วัตถุประสงค์:** ตรวจสอบว่าการคำนวณ ROI ถูกต้องทางคณิตศาสตร์

**ข้อมูลทดสอบ:**
- ต้นทุนการได้มา: 50,000 บาท
- รายได้รวม: 30,000 บาท
- ค่าใช้จ่ายรวม: 8,000 บาท
- ค่าเสื่อมราคารวม: 12,000 บาท
- กำไรสุทธิที่คาดหวัง: 30,000 - 8,000 - 12,000 = 10,000 บาท
- ROI ที่คาดหวัง: (10,000 / 50,000) × 100 = 20%

**ขั้นตอน:**
1. ค้นหาสินทรัพย์ที่มีค่าที่รู้
2. คำนวณ ROI ที่คาดหวังด้วยตนเอง
3. เปรียบเทียบกับ ROI ที่ระบบแสดง

**ผลลัพธ์ที่คาดหวัง:**
- [ ] ROI % ตรงกับการคำนวณด้วยตนเอง
- [ ] การคำนวณกำไร/ขาดทุนสุทธิถูกต้อง
- [ ] สูตรถูกใช้อย่างสม่ำเสมอกับสินทรัพย์ทั้งหมด

---

## กรณีทดสอบ 5.11: รายงานค่าเสื่อมราคา - มุมมองรายปีเต็ม

**วัตถุประสงค์:** ตรวจสอบสรุปค่าเสื่อมราคารายปีเต็ม

**ขั้นตอน:**
1. ไปที่ **การเงิน > รายงานค่าเสื่อมราคา**
2. เลือกปีปัจจุบัน
3. ตรวจสอบสรุปและรายละเอียด

**ผลลัพธ์ที่คาดหวัง:**
- [ ] ค่าเสื่อมราคารวมสำหรับปีแสดง
- [ ] รายละเอียดรายเดือนถูกต้อง
- [ ] มุมมองตามสินทรัพย์แสดงยอดรวมต่อยานพาหนะ
- [ ] ยอดรวมรายปีตรงกับผลรวมของค่ารายเดือน

---

## กรณีทดสอบ 5.12: ส่งออกรายงาน

**วัตถุประสงค์:** ตรวจสอบฟังก์ชันการส่งออกรายงาน

**ขั้นตอน:**
1. ไปที่แต่ละหน้ารายงาน
2. คลิกปุ่มส่งออก (CSV)
3. ดาวน์โหลดและตรวจสอบไฟล์

**ผลลัพธ์ที่คาดหวัง:**
- [ ] รายงานค่าเสื่อมราคาส่งออกถูกต้อง
- [ ] รายงานผลกำไรส่งออกถูกต้อง
- [ ] รูปแบบ CSV ถูกต้อง
- [ ] ข้อมูลตรงกับที่แสดงบนหน้าจอ
- [ ] มีส่วนหัวคอลัมน์

---

## กรณีทดสอบ 5.13: การกรองวันที่ของรายงาน

**วัตถุประสงค์:** ตรวจสอบการกรองช่วงวันที่ในรายงาน

**ขั้นตอน:**
1. ไปที่หน้ารายงาน
2. ตั้งค่าช่วงวันที่กำหนดเอง
3. ใช้ตัวกรอง

**ผลลัพธ์ที่คาดหวัง:**
- [ ] แสดงเฉพาะข้อมูลภายในช่วงวันที่
- [ ] ยอดรวมสะท้อนข้อมูลที่กรอง
- [ ] การล้างตัวกรองแสดงข้อมูลทั้งหมด

---

## กรณีทดสอบ 5.14: การจัดการสถานะไม่มีข้อมูล

**วัตถุประสงค์:** ตรวจสอบว่ารายงานจัดการสถานการณ์ไม่มีข้อมูลอย่างเหมาะสม

**การตั้งค่าทดสอบ:**
- ใช้ช่วงวันที่ที่ไม่มีข้อมูล หรือดูรายงานก่อนป้อนข้อมูลใดๆ

**ขั้นตอน:**
1. ไปที่รายงานที่ไม่มีข้อมูลที่เกี่ยวข้อง
2. ตรวจสอบการแสดงผล

**ผลลัพธ์ที่คาดหวัง:**
- [ ] แสดงข้อความ "ไม่มีข้อมูล" หรือข้อความที่คล้ายกัน
- [ ] กราฟแสดงสถานะว่างอย่างเหมาะสม
- [ ] ไม่มีข้อผิดพลาดหรือเลย์เอาต์เสียหาย
- [ ] อาจแสดงคำแนะนำในการเพิ่มข้อมูล

---

## หมายเหตุ

- ตรวจสอบว่าเปอร์เซ็นต์ทั้งหมดปัดเศษถูกต้อง
- ตรวจสอบการแสดง ROI ติดลบ (ควรแสดงชัดเจน)
- ทดสอบด้วยตัวเลขขนาดใหญ่ (หลักล้าน) สำหรับการจัดรูปแบบ
- ทดสอบด้วยตัวเลขขนาดเล็กมากสำหรับการจัดการทศนิยม
