# การทดสอบ QA: ใช้ชุดกฎตามภูมิภาค

## รหัสทดสอบ: DP-002
## ฟีเจอร์: ชุดกฎราคาตามภูมิภาค
## ความสำคัญ: สูง

---

## เงื่อนไขเบื้องต้น
- เปิดใช้งานราคาแบบไดนามิกแล้ว (DP-001 ผ่าน)
- ผู้ใช้เข้าสู่ระบบในฐานะ OrgAdmin หรือ ShopManager
- มีร้านค้าอย่างน้อยหนึ่งร้านในองค์กร

## ขั้นตอนการทดสอบ

### ขั้นตอนที่ 1: ไปที่กฎราคา
1. คลิก **ตั้งค่า** ในเมนูนำทาง
2. คลิก **กฎราคา**

**ผลที่คาดหวัง:** หน้ากฎราคาโหลดพร้อมกับ:
- ดรอปดาวน์เลือกร้าน
- ปุ่ม "ใช้ชุดกฎตามภูมิภาค"
- ปุ่ม "ดูปฏิทิน"
- รายการกฎ (อาจว่างเปล่า)

### ขั้นตอนที่ 2: เลือกร้าน
1. เลือกร้านจากดรอปดาวน์

**ผลที่คาดหวัง:** หน้าอัปเดตแสดงกฎสำหรับร้านที่เลือก

### ขั้นตอนที่ 3: เปิดไดอะล็อกใช้ชุดกฎ
1. คลิกปุ่ม **ใช้ชุดกฎตามภูมิภาค**

**ผลที่คาดหวัง:** ไดอะล็อกเปิดแสดง:
- ข้อความอธิบายเกี่ยวกับชุดกฎตามภูมิภาค
- สามกลุ่มหมวดหมู่:
  - ชายหาด (ชายฝั่งอันดามัน, ชายฝั่งอ่าว, ตะวันออก, ตะวันตก)
  - ชายแดนและภูมิภาค (ชายแดนใต้, อีสาน)
  - มหานคร (เหนือ, กลาง)
- แต่ละชุดกฎแสดงชื่อ, คำอธิบาย, กลุ่มนักท่องเที่ยว และจำนวนกฎ
- ตัวเลือก "เริ่มใหม่" พร้อม 0 กฎ

### ขั้นตอนที่ 4: เลือกชุดกฎชายฝั่งอันดามัน
1. คลิกที่ตัวเลือก **ชายฝั่งอันดามัน (ภูเก็ต, กระบี่)**

**ผลที่คาดหวัง:**
- ปุ่มวิทยุถูกเลือก
- กล่องข้อมูลปรากฏแสดง "จะเกิดอะไรขึ้นต่อไป?"
- จำนวนกฎแสดง 58 กฎ

### ขั้นตอนที่ 5: ใช้ชุดกฎ
1. คลิกปุ่ม **ใช้ชุดกฎ**

**ผลที่คาดหวัง:**
- สปินเนอร์โหลดปรากฏ
- ไดอะล็อกปิด
- ข้อความสำเร็จ: "สร้าง 58 กฎราคาจากชุดกฎชายฝั่งอันดามัน"
- รายการกฎแสดง 58 กฎ

### ขั้นตอนที่ 6: ตรวจสอบกฎที่สร้าง
1. เลื่อนดูรายการกฎ

**ผลที่คาดหวัง:** กฎรวมถึง:
- กฎฤดูกาล (ไฮซีซั่น, โลว์ซีซั่น, ช่วงเปลี่ยนผ่าน, ฯลฯ)
- กฎอีเวนต์ (ปีใหม่รัสเซีย, ตรุษจีน, สงกรานต์, ฯลฯ)
- อีเวนต์กลุ่มนักท่องเที่ยวต่างๆ (UK, เยอรมัน, ฝรั่งเศส, ฯลฯ)

---

## ข้อมูลทดสอบ

### ชุดกฎตามภูมิภาคและจำนวนกฎที่คาดหวัง
| ชุดกฎ | จำนวนกฎที่คาดหวัง |
|--------|----------------|
| ชายฝั่งอันดามัน (ภูเก็ต, กระบี่) | 58 |
| ชายฝั่งอ่าว (เกาะสมุย) | 14 |
| ชายแดนใต้ (หาดใหญ่) | 32 |
| เหนือ (เชียงใหม่) | 14 |
| ตะวันออก (พัทยา) | 14 |
| กลาง (กรุงเทพ) | 11 |
| ตะวันตก (หัวหิน) | 9 |
| อีสาน (อุดรธานี) | 10 |

## เกณฑ์ผ่าน
- [ ] ไดอะล็อกใช้ชุดกฎตามภูมิภาคเปิดถูกต้อง
- [ ] ชุดกฎทั้ง 8 ภูมิภาคแสดงพร้อมหมวดหมู่ที่ถูกต้อง
- [ ] การเลือกชุดกฎแสดงจำนวนกฎ
- [ ] การใช้ชุดกฎสร้างจำนวนกฎที่ถูกต้อง
- [ ] กฎปรากฏในรายการกฎหลังจากใช้
- [ ] ข้อความสำเร็จแสดงพร้อมจำนวนที่ถูกต้อง

## หมายเหตุ
- กฎถูกสร้างสำหรับร้านที่เลือกอยู่เท่านั้น
- การใช้ชุดกฎไม่ลบกฎที่มีอยู่
- ผู้ใช้สามารถใช้หลายชุดกฎกับร้านเดียวกันได้
