# การทดสอบ QA: มุมมองปฏิทินราคา

## รหัสทดสอบ: DP-003
## ฟีเจอร์: การแสดงผลปฏิทินราคา
## ความสำคัญ: สูง

---

## เงื่อนไขเบื้องต้น
- เปิดใช้งานราคาแบบไดนามิกแล้ว (DP-001 ผ่าน)
- มีร้านค้าอย่างน้อยหนึ่งร้านที่มีกฎราคา (DP-002 ผ่าน)
- ผู้ใช้เข้าสู่ระบบในฐานะ OrgAdmin หรือ ShopManager

## ขั้นตอนการทดสอบ

### ขั้นตอนที่ 1: ไปที่ปฏิทินราคา
1. คลิก **ตั้งค่า** ในเมนูนำทาง
2. คลิก **กฎราคา**
3. เลือกร้านที่มีกฎราคา
4. คลิกปุ่ม **ดูปฏิทิน**

**ผลที่คาดหวัง:** หน้าปฏิทินราคาโหลดพร้อมกับ:
- ดรอปดาวน์เลือกร้าน
- ตัวเลือกเดือน/ปี
- ตัวกรองประเภทยานพาหนะ
- คำอธิบายสีแสดงรหัสสี
- ตารางปฏิทินสำหรับเดือนปัจจุบัน

### ขั้นตอนที่ 2: ตรวจสอบคำอธิบายสี
1. สังเกตคำอธิบายสีที่ด้านบนของปฏิทิน

**ผลที่คาดหวัง:** คำอธิบายสีแสดงสี่หมวดหมู่:
- **เขียว** (ส่วนลด): ตัวคูณ < 1.0x
- **เหลือง** (ปกติ): ตัวคูณ 1.0x
- **ส้ม** (ช่วงเปลี่ยนผ่าน): ตัวคูณ 1.2x - 1.4x
- **แดง** (ไฮซีซั่น): ตัวคูณ > 1.5x

### ขั้นตอนที่ 3: ตรวจสอบการแสดงผลปฏิทิน
1. สังเกตตารางปฏิทิน

**ผลที่คาดหวัง:**
- ส่วนหัววันในสัปดาห์ (อา.-ส. หรือ จ.-อา. ตามภาษา)
- แต่ละเซลล์วันแสดงหมายเลขวันที่
- วันที่มีกฎราคาแสดงพื้นหลังสี
- วันที่มีกฎแสดงป้ายตัวคูณ (เช่น "1.6x")

### ขั้นตอนที่ 4: ไปที่เดือนไฮซีซั่น
1. ใช้การนำทางเดือนไปที่ธันวาคมหรือมกราคม

**ผลที่คาดหวัง:**
- ปฏิทินอัปเดตแสดงเดือนที่เลือก
- วันไฮซีซั่น (คริสต์มาส, ปีใหม่) แสดงพื้นหลังแดง/ส้ม
- ตัวคูณเช่น 2.0x, 2.5x แสดงให้เห็น

### ขั้นตอนที่ 5: ไปที่เดือนโลว์ซีซั่น
1. ใช้การนำทางเดือนไปที่มิถุนายนหรือกรกฎาคม

**ผลที่คาดหวัง:**
- ปฏิทินอัปเดตแสดงเดือนที่เลือก
- วันโลว์ซีซั่นแสดงพื้นหลังเขียว
- ตัวคูณเช่น 0.6x, 0.7x แสดงให้เห็น

### ขั้นตอนที่ 6: กรองตามประเภทยานพาหนะ
1. เลือกประเภทยานพาหนะเฉพาะจากตัวกรอง (ถ้ามี)

**ผลที่คาดหวัง:**
- ปฏิทินอัปเดตแสดงกฎที่ใช้กับประเภทยานพาหนะนั้น
- บางวันอาจเปลี่ยนสี/ตัวคูณตามกฎเฉพาะยานพาหนะ

### ขั้นตอนที่ 7: ดูกฎที่ใช้งานในเดือนนี้
1. เลื่อนลงไปที่ส่วน "กฎที่ใช้งานในเดือนนี้"

**ผลที่คาดหวัง:**
- รายการกฎที่ใช้งานในเดือนที่แสดง
- แสดงชื่อกฎ, ประเภท (ฤดูกาล/อีเวนต์/วันในสัปดาห์) และช่วงวันที่
- มีรหัสสีตามประเภทกฎ

---

## ข้อมูลทดสอบ

### สีที่คาดหวังตามวันที่ (ชุดกฎชายฝั่งอันดามัน)
| ช่วงวันที่ | สีที่คาดหวัง | ตัวคูณ |
|------------|----------------|------------|
| 20 ธ.ค. - 10 ม.ค. | แดง | 2.0x - 2.8x |
| 1 พ.ย. - 31 มี.ค. | ส้ม | 1.6x |
| 1 มิ.ย. - 31 ส.ค. | เขียว | 0.55x - 0.65x |
| 13 เม.ย. - 17 เม.ย. | ส้ม/แดง | 1.8x (สงกรานต์) |

## เกณฑ์ผ่าน
- [ ] หน้าปฏิทินโหลดสำเร็จ
- [ ] คำอธิบายสีแสดงสี่หมวดหมู่สี
- [ ] วันแสดงสีที่เหมาะสมตามตัวคูณ
- [ ] การนำทางเดือนทำงานถูกต้อง
- [ ] ป้ายตัวคูณแสดงบนวันที่มีสี
- [ ] ตัวกรองประเภทยานพาหนะอัปเดตปฏิทิน
- [ ] ส่วนกฎที่ใช้งานแสดงกฎสำหรับเดือนปัจจุบัน

## หมายเหตุ
- ปฏิทินแสดงผลรวมของกฎทั้งหมดที่ใช้กับแต่ละวัน
- กฎที่มีความสำคัญสูงกว่าจะแทนที่กฎที่มีความสำคัญต่ำกว่า
- หลายกฎในวันเดียวกันอาจรวมกันหรือแทนที่กันตามลำดับความสำคัญ
